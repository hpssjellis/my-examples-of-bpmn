<!DOCTYPE html>
<html>
<head>
  <title>BPMN Demo</title>
  <script src="https://unpkg.com/bpmn-js@15.0.0/dist/bpmn-viewer.development.js"></script>
</head>
<body>
  <h2>BPMN Business Process Model Demo</h2>
  
  <div id="myCanvas" style="width:100%; height:600px; border:1px solid black;"></div>
  
  <script>
    async function myLoadBPMN() {
      let myViewer = new BpmnJS({ container: '#myCanvas' });

      let myDiagramXML = `<?xml version="1.0" encoding="UTF-8"?>
      <bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                        xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                        xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                        xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                        id="Definitions_1"
                        targetNamespace="http://bpmn.io/schema/bpmn">
        <bpmn:process id="Process_1" isExecutable="false">
          <bpmn:startEvent id="StartEvent_1" name="Start"/>
          <bpmn:task id="Task_1" name="Do Task A"/>
          <bpmn:exclusiveGateway id="Gateway_1" name="Decision"/>
          <bpmn:task id="Task_2" name="Do Task B"/>
          <bpmn:endEvent id="EndEvent_1" name="End"/>

          <bpmn:sequenceFlow id="flow1" sourceRef="StartEvent_1" targetRef="Task_1"/>
          <bpmn:sequenceFlow id="flow2" sourceRef="Task_1" targetRef="Gateway_1"/>
          <bpmn:sequenceFlow id="flow3" sourceRef="Gateway_1" targetRef="Task_2"/>
          <bpmn:sequenceFlow id="flow4" sourceRef="Task_2" targetRef="EndEvent_1"/>
        </bpmn:process>

        <bpmndi:BPMNDiagram id="BPMNDiagram_1">
          <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
            <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
              <dc:Bounds x="100" y="100" width="36" height="36"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Task_1_di" bpmnElement="Task_1">
              <dc:Bounds x="200" y="80" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Gateway_1_di" bpmnElement="Gateway_1" isMarkerVisible="true">
              <dc:Bounds x="350" y="95" width="50" height="50"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Task_2_di" bpmnElement="Task_2">
              <dc:Bounds x="450" y="80" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
              <dc:Bounds x="600" y="100" width="36" height="36"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="flow1_di" bpmnElement="flow1">
              <di:waypoint x="136" y="118"/>
              <di:waypoint x="200" y="118"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="flow2_di" bpmnElement="flow2">
              <di:waypoint x="300" y="118"/>
              <di:waypoint x="350" y="118"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="flow3_di" bpmnElement="flow3">
              <di:waypoint x="400" y="118"/>
              <di:waypoint x="450" y="118"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="flow4_di" bpmnElement="flow4">
              <di:waypoint x="550" y="118"/>
              <di:waypoint x="600" y="118"/>
            </bpmndi:BPMNEdge>
          </bpmndi:BPMNPlane>
        </bpmndi:BPMNDiagram>
      </bpmn:definitions>`;

      try {
        await myViewer.importXML(myDiagramXML);
        myViewer.get('canvas').zoom('fit-viewport');
      } catch (err) {
        console.error('Error rendering BPMN', err);
      }
    }

    myLoadBPMN();
  </script>
</body>
</html>
